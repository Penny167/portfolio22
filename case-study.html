<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Case Study</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <nav class="site-nav ninja-grid">
    <h1>Penny Graham</h1>
    <ul>
      <li><a href="#about">About</a></li>
      <li><a href="#portfolio">Portfolio</a></li>
      <li><a href="#skills">Skills</a></li>
      <li><a href="#contact">Contact</a></li>
    </ul>
  </nav>
  <section id="heading">
    <h2>myFlix Angular: A detailed Case Study</h2>
  </section>
  <section id="intro" class="intro-grid">
    <div>
    <h3>Project overview</h3>
    <p>
      myFlix Angular was the final project that I completed as part of my Full-stack Web Development course at CareerFoundry. 
      I had previously created the myFlix API and database that provided the back-end for a movie application for which I had then 
      built a front end using React. This project was about rebuilding the client-side of the app using an alternative framework: Angular.
    </p>
    </div>
    <div>
    <h3>My role</h3>
    <p>
      This was an exciting project as it offered the opportunity to apply all the experience and knowledge that I had accumulated 
      throughout my course whilst simultaneously learning a new framework. As my final project I wanted to test myself by working 
      unassisted and resolved to tackle any technical challenges through my own research as practice for future projects once my 
      course ended.
    </p>
    </div>
    <div>
    <h3>Summary of project requirements</h3>
    <ul>
      <li>Create a complete movie app using the myFlix API with a front-end built using Angular</li>
      <li>Include a welcome page where users can register and log in, a movie view where logged in users can see details of 
        all the movies in the database and a profile page where they can edit their details or delete their profile
      </li>
      <li>Display the movies as cards with summary details and buttons that, when clicked, provide further details about 
        the movie plot, genre and director
      </li>
      <li>Give users the ability to add movies to, or remove movies from, favourites by clicking on a heart icon on the movie’s card</li>
      <li>Style the app using Angular Material to create an attractive, responsive design</li>
    </ul>
    </div>
    <div>
    <h3>Duration</h3>
    <p>
      The project took about a month including time off over Christmas and some days spent on research. Because Angular uses TypeScript 
      I watched some YouTube tutorials to learn the fundamentals of the language in more depth as preparation. I also watched some 
      tutorials on Angular to supplement my course materials and again ensure I had a good grasp of the core concepts before beginning 
      the development work.
    </p>
    <p>
      Building the app itself took around two weeks of intense programming work, with a few late nights towards to the end to ensure 
      I hit my deadline!
    </p>
    </div>
  </section>
  <section id="step1">
    <h3>Step 1: Learning Angular fundamentals</h3>
    <p>
      The first part of the project essentially involved following the instructions in the course materials to create an Angular app 
      using the Angular Cli then learning how to use the Cli to create components and services. I learned about the modular structure 
      of Angular and that views are created using components that consist of a TypeScript file containing the logic and a template 
      containing the HTML to be displayed.
    </p>
    <p>
      I learned how to pass data between the TypeScript file and the template using data binding techniques and how to change the 
      appearance and structure of elements in the template (ie what is displayed to the user) using tools called directives.
    </p>
    <p>
      I imported Angular Material and reviewed some of its key components including: cards, which could be used to display the movie 
      information; dialogs, which were essentially modals and could be used to display a component within another component; and 
      snackbars, which provided pop up messages (akin to alerts) that could be used to communicate with the user.
    </p>
    <p>
      Finally I learned about services. These were a way to house functions that can be called by multiple components within an 
      app without duplicating code. This learning phase culminated in creating such a service to contain the HTTP requests to the 
      myFlix API that would be made by various components within my app. 
    </p>
    <p>I now had the technical know-how and the mechanism to retrieve the data I needed to start building out my components.</p>
  </section>
  <section id="step2">
    <h3>Step 2: Building the first components</h3>
    <p>
      Using the techniques learned so far, I created a registration component. This bound values input by the user in a registration 
      form to the component using the ngModel directive and used event binding to trigger a registration request to the API 
      (via the service I had just created) when the form was submitted. The component was contained in a dialog that was opened 
      inside the main app component.
    </p>
    <p>
      I followed this example to create a login component using the same techniques, this time sending the request to the 
      login endpoint.
    </p>
    <p>
      The next task was to create the view containing the actual movies, displaying them as cards. I started by repeating the same 
      basic pattern: creating a component, connecting it to the API service (this time to request the movie data) and then using 
      data binding to pass the data between the component and the template.
    </p>
    <p>
      The unique challenge here was to render not just one movie card, but a card for every movie in the database. I had learned 
      that the ngFor directive could be used for precisely this task and so implemented this in my template to achieved the 
      desired result.
    </p>
  </section>
  <section id="step3">
    <h3>Step 3: Adding routes</h3>
    <p>
      At this stage I had a landing page with three buttons in my main app component. However, what I required was a landing page 
      with registration and login buttons and functionality to redirect the user to the movie view on a successful login. This 
      required routing.
    </p>
    <p>
      My instructions instructions described how to set up routes and directed me to place these in the module file. I noticed 
      however, that there was a built-in routing module. This seemed to me a more sensible place to put the code, following the 
      principle of separation of concerns. I studied the relevant Angular documentation and configured the routes successfully, 
      at the same time enhancing my knowledge of the framework and improving the code.
    </p>
  </section>
  <section id="step4">
    <h3>Step 4: Completing the requirements</h3>
    <p>
      I had now completed the course materials and the app was taking shape. However, I still had to implement the remainder of the 
      requirements and ensure that the app was responsive and well designed overall. This was somewhat daunting but I felt I now had 
      a sufficient grasp of the key concepts of Angular and it was a case of applying these to complete the remaining challenges.
    </p>
    <p>
      I wrote a list of the tasks needed to complete the brief and decided to start with those where I could immediately see how I 
      could repeat the patterns that I’d learned so far to fulfil the requirements.
    </p>
    <h4>Movie data dialogs</h4>
    <p>
      I knew how to create dialogs from building the registration and login components so decided to replicate this technique to 
      display the synopsis, genre and director information for each movie when the user clicked on the respective buttons on the 
      movie cards.
    </p>
    <p>The challenge here was how I was going to pass the data from the movie component to the dialogs. So far I had opened dialogs 
      from a “parent” component, but I hadn’t needed to pass any data to them. I studied the Angular Material documentation on the 
      dialog component and this explained that I could configure the dialog with a data object and then use an injection token inside 
      the receiving component to access the data. Once I had the data in the dialog component, I then used interpolation to pass it 
      to the template. I now had my detailed data!
    </p>
    <h4>The profile component</h4>
    <p>
      I then turned my attention to the profile component. I wasn’t yet sure how I would route to it but knew I could at least build 
      the component and define the content. It was a requirement to be able to edit and delete the profile so I first thought about 
      the structure. I decided to have a main profile component with two buttons: one would open a dialog, repeating the pattern I 
      had now implemented several times, which would include a form where the profile could be edited; the second would simply delete 
      the profile.
    </p>
    <p>
      I created the component, linking to the API service in the usual way to retrieve the user data that I then displayed in the 
      template. I decided to create the profile as a card to keep a consistent look and feel throughout the app and used an Angular 
      pipe to display the user’s birth date in a more attractive format.
    </p>
    <p>
      Next I used a dialog to contain the edit profile component and created the form with which users would submit their new details. 
      I was able to copy the html used for the original registration form because it contained all the same fields.
    </p>
    <p>
      Finally I created a delete profile function, once again using the API service to access the endpoint for deleting a user from 
      the database.
    </p>
    <h4>Creating a favourites component</h4>
    <p>
      The final required piece of functionality was the ability to add and remove movies to and from a user’s favourites. I had been 
      instructed to include a heart icon on each of the movie cards and this was to be used to indicate whether or not a movie was a 
      favourite. 
    </p>
    <p>
      Whilst not a requirement, I thought it would be a nice feature to have a dedicated view displaying all the user’s favourite 
      movies in one place, so I decided to start by creating another new component for this. 
    </p>
    <p>
      Being a subset of the main movie view I rendered it in the same way, reusing the movie view template code to quickly add the 
      extra functionality. 
    </p>
    <p>
      This gave me a favourites view. But I needed to be able to add and delete movies to and from it, and I still needed to find a way 
      of updating the heart icon on the cards in the main movie view to demonstrate each movie’s status.
    </p>
    <h4>Adding and deleting movies to and from favourites</h4>
    <p>
      I decided to start by adding functionality to delete a movie from the favourites view. I worked out that I could enclose the 
      heart icon from each movie card in a button and thereby trigger a function to delete the movie from favourites when the icon 
      was clicked. I tested this and sure enough the card disappeared!
    </p>
    <p>
      Next I had to tackle the same problem but from inside the movie view. Here though, instead of the movie disappearing, the heart 
      icon would change in some way to indicate whether the movie was a favourite or not. I would also be both adding and removing a 
      movie from favourites (instead of just removing) using the same button. In other words clicking the icon would toggle the movie 
      to or from favourites.
    </p>
    <p>
      I started by creating 2 buttons. This would allow me to get the basic functionality in place to interact with the relevant API 
      endpoints and test it before then combining in to a toggle function. This proved to be a good idea because when I tested my add 
      to favourites function it failed. This was confusing as I’d carefully checked my API service functions and could see nothing 
      syntactically different to other routes that were working.
    </p>
    <p>
      I used Postman to check that my API was working as expected and that it wasn’t a problem on the server-side. The problem was 
      definitely in the front end. I had to think in principle what was different about this request. I noticed that it was a 
      put request. The request I used to update a user’s profile was also a put and that was working, so what was different?
    </p>
    <p>
      One request had a request body and the other didn’t. I checked back to my API documentation and no request body was required 
      for this route, but I decided to try adding the movie id as a second parameter to my request. It worked! 
    </p>
    <p>
      Having created 2 buttons and tested the functionality I now needed to change this to one toggle. One thought I had was to retain 
      two buttons but conditionally render them depending on whether the movie was a favourite, but I immediately dismissed this as 
      over-complicated. I only needed one button and the answer was in the component rather than the template. I simply needed the 
      button click to fire a function with an if else condition. 
    </p>
    <p>
      At this stage I had implemented the functionality using one button, but there was still no visual indicator of the status of a 
      particular movie. I knew I could use property binding to tie a property to an expression in the component so I solved this 
      problem by creating a function that would check if the movie was included within the favourite movie data and depending on the 
      result apply  either a red or pink colour to the heart icon.
    </p>
    <h4>Adding navigation</h4>
    <p>
      By this point, I had implemented all the functional requirements of the brief. Users could register, log in, look at movies 
      including additional details and add and remove movies to and from their favourites. There was also a separate favourites view 
      as well as a profile view where they could edit or delete their profile. However, at the moment there was no way for the user to 
      go to the profile or favourites views. There was also no way to log out.
    </p>
    <p>
      The obvious design pattern to handle this was a navigation component. I browsed through the Angular Material components and 
      found a basic toolbar but also a side nav that looked interesting. I also found a YouTube video that implemented both using 
      breakpoint observers to change responsively between the two displays depending on the screen size. I decided to take this 
      approach and, by using a combination of the documentation and the video, managed to implement this in a way tailored to my 
      own app. 
    </p>
    <p>
      However, there was a slight complication: there was no information about how to actually render the content based on the 
      navigation list item selected!
    </p>
    <p>
      I didn’t want to include the navigation on the welcome screen. Neither did I want to include all of the navigation code on 
      each of the movie, profile and favourites views. I wanted to route to the navigation component after logging on, and then 
      simply render the view selected by the user using the navigation buttons.
    </p>
    <p>
      I remembered that there was an ngSwitch directive that could be used to apply a switch statement and render content conditionally 
      within a template. This seemed like the perfect solution. I added a variable that would update whenever the user clicked on a 
      navigation button and used this to set the switch case which thereby updated the view.
    </p>
    <p>
      I was feeling pretty happy at this point with the app functionality but it lacked visual appeal.
    </p>
    <h4>Styling the app</h4>
    <p>
      I had seen that Angular Material offered pre-built themes so decided to explore these first as a simple option to quickly 
      apply some global styles. However, I wasn’t crazy about the results and decided to come up with my own. After some fun 
      picking colours and trying to ensure a good level of contrast for readability and accessibility, I customised the palette. 
      I then went through each of my components in turn checking that the styles were being applied and deciding when to use 
      primary, secondary and accents colours. I also used flex box to make my movie cards wrap inside a responsive container, 
      gave them a fixed width to ensure that they were the same size regardless of content and centred their content.
    </p>
    <p>
      There were the usual css challenges of finding a balance between using a readable font-size and fitting content neatly on 
      to the page. In particular, one of my movies had a very long title that spoiled the card layout at the font size that I wanted. 
      In this case I actually created a custom fontSizer function to shrink the size just for this movie and this worked extremely 
      well. I had a similar issue with the forms that I had created for registering and logging on. If a user chose a long password 
      then the text was overspilling so I used flex box to style this so the text would wrap.
    </p>
    <p>
      I had fun picking icons for my mobile navigation and playing with the colours. I also learned how to style my snackbar messages 
      by adding a panel class that applied a global style I specified in the styles.scss file.
    </p>
    <p>
      Overall I enjoyed the process of turning something functional but dull into an attractive, aesthetic user interface. 
    </p>
    <h4>Retesting and final touches</h4>
    <p>
      Having completed all of the main programming tasks, it was now time to retest each of the components again to ensure that 
      everything was working as expected both functionally and stylistically. This uncovered 3 problems.
    </p>
    <p>
      Firstly, something ugly was happening with my forms. Chrome was giving me an autofill option that when selected updated the 
      form with a white background and black text. My app theme was grey with pink text so this jarred horribly. Because this was 
      a Chrome rather than an Angular issue I wasn’t quite sure how to solve it. I did some googling and found some ideas on Stack 
      Overflow that I adapted to solve the issue. This did take some time and experimentation, but I felt it was worth it given a 
      user’s first impression of the app would be formed when completing the registration process.
    </p>
    <p>
      Secondly I found that when a user updated their profile, the redirect back to the main page happened so quickly that the 
      snackbar message confirming what they had done was disappearing before they would have time to read it! I handled this by 
      extracting the redirect statement, making it a separate function and using setTimeout to ensure it fired after the snackbar 
      message had displayed for 4 seconds.
    </p>
    <p>
      The third problem was the most challenging. The function I had created to delete a user’s profile kept returning an error message. 
      However, when I manually checked the database I could see that the user had indeed been deleted in each case. It seemed there was 
      something wrong with my HTTP request.
    </p>
    <p>
      When I had experienced the issue with my put request previously, I had seen that to make it work I needed to add a body to each 
      request. However, in this case I had coded both my delete requests (the other being to delete a movie from favourites) identically; 
      one was simply working and the other was not. How could that be?
    </p>
    <p>
      I spent a couple of hours reading the Angular client HTTP API documentation to see if some special configuration was required 
      for delete requests. The documentation was quite complex but I managed to identify that there was an important configuration 
      option relating to the type of response that the request should return. And then I realised: unlike all of the other routes 
      that I was using throughout my app, this request returned a text response rather than a JSON object. 
    </p>
    <p>
      I updated the request to include a response type of text and finally the function worked and correctly displayed the success 
      message. It was particularly satisfying to crack this problem as it involved knowledge far beyond the scope of the course 
      materials and demonstrated that I had acquired some understanding of the fundamentals of TypeScript.
    </p>
  </section>
  <section id="step5">
    <h3>Step 5: Tutor feedback</h3>
    <p>
      I was finally ready to submit my app for review and was feeling pretty pleased I’d got this far without assistance. I was 
      gratified to receive a great set of feedback, but my tutor had identified one last issue. When a user failed to meet the 
      database requirements when creating a username or password, there was no mechanism to give them feedback on what the rules were.
    </p>
    <p>
      There was no room to write these out on the form itself and I didn’t want a snackbar message to display after they had already 
      submitted their form. A tooltip seemed the obvious solution and a scan of the Angular Material components confirmed that a 
      pre-built version was available.
    </p>
    <p>
      I proceeded to implement this and after overcoming some final CSS challenges adapting the styling to fit my theme, the app was 
      complete!
    </p>
  </section>
  <section id="retro">
    <h3>Retrospective</h3>
    <p>
      The primary goal of this project was to build out a front end for a movie application using Angular. I believe that I was 
      successful in achieving this, producing an application of high quality in both function and appearance that included several 
      features that extended beyond the basic project requirements.
    </p>
    <p>
      In building the application, I demonstrated strong problem solving abilities across a range of challenges as well as a solid 
      grasp of the fundamental tools and concepts of Angular, in particular data binding, directives and services. 
    </p>
    <p>
      Angular is a complex and opinionated framework and I’d need many more hours experience to gain a deep understanding of all of its 
      capabilities; however, based on the knowledge I have gained developing this project, I would feel confident building other 
      small-scale applications using this framework.
    </p>
    <p>
      Aside from the specific goal of building a movie app using Angular, I feel that this project was really about using design 
      patterns to solve problems. My fundamental approach was to learn basic techniques then apply them across multiple scenarios 
      to solve similar problems; to use common components and styles; and to reuse code wherever possible. 
    </p>
    <p>
      As well as helping me to tackle the challenges that arose efficiently, this approach of looking for and implementing common 
      patterns provided a sense of coherence to the app as a whole and helped me appreciate how I had grown as a developer over the 
      preceding months.
    </p>
  </section>
  <footer>
    <div class="ninja-grid">
      <p class="copyright">Copyright 2022 Penny Graham</p>
      <ul class="social">
        <li><a href="https://github.com/Penny167"><img src="assets/github_icon.svg" alt="github"></a></li>
        <li><a href="#"><img src="assets/linkedin_icon.svg" alt="linkedin"></a></li>
      </ul>
    </div>
  </footer> 
</body>
</html>